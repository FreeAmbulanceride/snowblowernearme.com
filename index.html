<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Snow blowers near your area — in stock & ready</title>
  <meta name="description" content="Fast, clean picks for snow blowers that are usually in stock in the US & Canada. No scraped prices. Click through to check live availability." />

  <!-- Perf hints for Amazon handoff -->
  <link rel="preconnect" href="https://www.amazon.com">
  <link rel="preconnect" href="https://www.amazon.ca">

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="/assets/styles.css?v=1" />
</head>
<body>

  <!-- Site-wide disclosure (one time, above first CTA) -->
  <p class="top-disclosure container">
    As an Amazon Associate, any qualifying earnings from this page go directly to supporting this website.
  </p>

  <!-- Header / Nav -->
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="/">
        <img src="/assets/logo.svg" width="24" height="24" alt="" />
        <span class="name">snowblowernearme<span class="dot">.</span>com</span>
      </a>
      <nav class="main-nav">
        <a href="/gravel/">Gravel</a>
        <a href="/quiet-battery/">Quiet/Battery</a>
        <a href="/steep-driveways/">Steep/Long</a>
        <a href="/privacy.html">Privacy</a>
        <a href="/terms.html">Terms</a>
      </nav>
    </div>
  </header>

  <!-- Optional storm banner (off by default, enable via ?storm=1) -->
  <div id="storm" hidden class="storm">Storm approaching? Order now to avoid stockouts and delivery delays →</div>

<script>
(async function stormAutoRibbon(){
  const RIBBON_ID = 'storm';                 // <div id="storm" hidden>…</div>
  const CACHE_KEY = 'storm_check_v1';
  const CACHE_TTL_MS = 6 * 60 * 60 * 1000;   // 6 hours

  // 0) Skip if query param already forces it
  if (location.search.includes('storm=1')) { 
    const el = document.getElementById(RIBBON_ID); if (el) el.hidden = false; 
    return;
  }

  // 1) Use cached decision to avoid extra calls
  try {
    const cached = JSON.parse(localStorage.getItem(CACHE_KEY)||'null');
    if (cached && (Date.now() - cached.t) < CACHE_TTL_MS) {
      if (cached.on) { const el = document.getElementById(RIBBON_ID); if (el) el.hidden = false; }
      return;
    }
  } catch(_) {}

  // 2) Get user location (coarse); fall back to “city” you already resolved
  function getApprox() {
    return new Promise((resolve) => {
      if (!navigator.geolocation) return resolve(null);
      navigator.geolocation.getCurrentPosition(
        p => resolve({lat:p.coords.latitude, lon:p.coords.longitude}),
        _ => resolve(null),
        {maximumAge: 6e5, timeout: 4000}
      );
    });
  }
  let loc = await getApprox();
  if (!loc) {
    try {
      const cachedCity = JSON.parse(localStorage.getItem('sbnm_city_v1')||'null');
      // Optional: map a few popular cities to lat/lon as a tiny fallback table
    } catch(_){}
  }
  if (!loc) return; // Give up quietly; site still works.

  const {lat, lon} = loc;

  // 3) Race 2 signal sources: alerts + forecast (lightweight, no keys)
  function withTimeout(ms, p){ return Promise.race([p, new Promise((_,r)=>setTimeout(()=>r(new Error('timeout')),ms))]); }

  // 3a) Alerts
  async function hasAlert() {
    try {
      // US: NWS has CORS and point-based alerts
      if (navigator.language.toLowerCase().endsWith('-us') || (Intl.DateTimeFormat().resolvedOptions().timeZone||'').includes('America/')) {
        const r = await withTimeout(5000, fetch(`https://api.weather.gov/alerts/active?point=${lat},${lon}`, {headers:{'Accept':'application/geo+json'}}));
        if (!r.ok) return false;
        const j = await r.json();
        return (j.features && j.features.length > 0);
      }
      // Canada: Government CAP feed (national); simple heuristic via province feed fallback
      const r = await withTimeout(6000, fetch('https://dd.weather.gc.ca/alerts/cap/Canada-cap-en.xml'));
      if (!r.ok) return false;
      const t = await r.text();
      // crude match for “Warning” or “Snowfall”/“Winter Storm”
      return /Warning|Snowfall|Winter Storm|Blizzard|Freezing Rain/i.test(t);
    } catch(_){ return false; }
  }

  // 3b) Forecast spike (Open-Meteo; free, CORS)
  async function hasSnowSpike() {
    try {
      const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=snowfall,wind_speed_10m&forecast_days=3`;
      const r = await withTimeout(5000, fetch(url));
      if (!r.ok) return false;
      const j = await r.json();
      const snow = (j.hourly?.snowfall||[]).reduce((a,b)=>a+(+b||0),0); // cm over 72h
      const windy = (j.hourly?.wind_speed_10m||[]).some(v => (+v||0) >= 40); // km/h
      return (snow >= 10) || windy;
    } catch(_){ return false; }
  }

  const [alertOn, spikeOn] = await Promise.all([hasAlert(), hasSnowSpike()]);
  const shouldShow = !!(alertOn || spikeOn);

  // 4) Persist decision & flip ribbon
  try { localStorage.setItem(CACHE_KEY, JSON.stringify({on:shouldShow, t:Date.now()})); } catch(_){}
  if (shouldShow) {
    const el = document.getElementById(RIBBON_ID);
    if (el) el.hidden = false;
  }
})();
</script>


  <!-- HERO -->
  <section class="hero container card">
    <h1>Snow blowers near <span data-city>your area</span> — in stock &amp; ready</h1>
    <p class="sub">Quick compare of the best single- and two-stage options, plus fast rental/repair. Neutral visuals, no scraped prices—click through for live availability.</p>
    <div class="actions">
      <a class="btn btn--primary" href="#top-picks">See top picks</a>
      <a class="btn btn--ghost" href="https://forms.gle/WNYyVcStumA9eDiE7" target="_blank" rel="noopener">Request local rental/repair</a>
    </div>
  </section>

  <!-- Updated note -->
  <section class="container small-note">
    Updated <time datetime="2025-09-30">September 30, 2025</time> · Tested for heavy/wet snow &amp; powder, paved vs gravel driveways, and cold starts. US/Canada routing sends you to the right Amazon store with the correct tag.
  </section>

  <!-- PICKS -->
  <section id="top-picks" class="container section">
    <h2 class="section-title">Today’s Top Picks</h2>

    <ul class="card-grid">
      <!-- Card 1 -->
      <li class="card">
        <div class="thumb">
          <img src="/assets/picks/ariens.png" width="640" height="360" alt="Ariens Classic 24 snow blower" loading="lazy" />
        </div>
        <h3>Ariens Classic 24&quot; — two-stage workhorse</h3>
        <ul class="specs">
          <li>24&quot; width</li><li>two-stage</li><li>steel auger</li><li>self-propelled</li>
        </ul>
        <ul class="pros">
          <li>Chews through deep, wet snow; safer on gravel.</li>
          <li>Parts availability in US/Canada is solid.</li>
        </ul>
        <a class="btn btn--primary cta" data-amz-q="Ariens Classic 24 snow blower">Check price on Amazon →</a>
      </li>

      <!-- Card 2 -->
      <li class="card">
        <div class="thumb">
          <img src="/assets/picks/ego.png" width="640" height="360" alt="EGO Power+ 21 snow blower" loading="lazy" />
        </div>
        <h3>EGO Power+ 21&quot; — quiet single-stage electric</h3>
        <ul class="specs">
          <li>21&quot; width</li><li>single-stage</li><li>battery</li>
        </ul>
        <ul class="pros">
          <li>Low noise, low upkeep; instant starts in cold.</li>
        </ul>
        <a class="btn btn--primary cta" data-amz-q="EGO Power+ 21 snow blower">Check price on Amazon →</a>
      </li>

      <!-- Card 3 -->
      <li class="card">
        <div class="thumb">
          <img src="/assets/picks/toro.png" width="640" height="360" alt="Budget 24 two-stage snow blower" loading="lazy" />
        </div>
        <h3>Budget 24&quot; Two-Stage — starter value</h3>
        <ul class="specs">
          <li>24&quot; width</li><li>two-stage</li><li>starter</li>
        </ul>
        <ul class="pros">
          <li>Affordable step into two-stage power for moderate snowfall.</li>
        </ul>
        <a class="btn btn--primary cta" data-amz-q="24 inch two stage snow blower">Check price on Amazon →</a>
      </li>
    </ul>

    <!-- Compare table -->
    <div class="compare">
      <table>
        <thead>
          <tr><th>Model</th><th>Stage</th><th>Width</th><th>Best for</th><th class="ta-right">Link</th></tr>
        </thead>
        <tbody>
          <tr>
            <td>Ariens Classic 24&quot;</td><td>Two-stage</td><td>24&quot;</td><td>Deep/wet snow, gravel</td>
            <td class="ta-right"><a class="cta link" data-amz-q="Ariens Classic 24 snow blower">Check availability</a></td>
          </tr>
          <tr>
            <td>EGO Power+ 21&quot;</td><td>Single-stage (battery)</td><td>21&quot;</td><td>Paved, low noise</td>
            <td class="ta-right"><a class="cta link" data-amz-q="EGO Power+ 21 snow blower">Check availability</a></td>
          </tr>
          <tr>
            <td>Budget 24&quot; Two-Stage</td><td>Two-stage</td><td>24&quot;</td><td>Starter value</td>
            <td class="ta-right"><a class="cta link" data-amz-q="24 inch two stage snow blower">Check availability</a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- Local help (non-affiliate) -->
  <section class="container section lead">
    <h2 class="section-title">Find local rental or repair</h2>
    <p><a class="btn btn--ghost" href="https://forms.gle/WNYyVcStumA9eDiE7" target="_blank" rel="noopener">Open request form</a></p>
    <ul class="links">
      <li><a href="https://www.acehardware.com/store-locator" rel="noopener">Ace Hardware store locator</a></li>
      <li><a href="https://www.rona.ca/en/store-locator" rel="noopener">RONA store locator</a></li>
      <li><a href="https://www.tractorsupply.com/tsc/store-locator" rel="noopener">Tractor Supply store locator</a></li>
      <li><a href="https://www.northerntool.com/store_locator" rel="noopener">Northern Tool store locator</a></li>
    </ul>
  </section>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <p class="disclosure">
        As an Amazon Associate, any qualifying earnings from this page go directly to supporting this website.
      </p>
      <nav class="footer-nav">
        <a href="/privacy.html">Privacy</a>
        <a href="/terms.html">Terms</a>
        <a href="/sitemap.xml">Sitemap</a>
      </nav>
    </div>
  </footer>

  <!-- Sticky CTA (mobile) -->
  <div class="sticky-cta" id="sticky" hidden>
    <a id="cta-amz" class="btn btn--primary" rel="sponsored nofollow noopener" target="_blank">
      Check price on Amazon →
    </a>
  </div>

  <!-- Minimal JS: city label, Amazon routing, sticky bar, storm toggle -->
  <script>
  // 1) City label (best-effort, privacy-light)
  (async function cityLabel(){
    const el = document.querySelector('[data-city]');
    if (!el) return;
    try {
      const cached = localStorage.getItem('sbnm_city_v1');
      if (cached) { el.textContent = JSON.parse(cached).display || 'your area'; return; }
      if (!navigator.geolocation) return;
      const pos = await new Promise((res,rej)=>navigator.geolocation.getCurrentPosition(res,rej,{maximumAge:6e5,timeout:4e3}));
      const {latitude, longitude} = pos.coords;
      const r = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${encodeURIComponent(latitude)}&longitude=${encodeURIComponent(longitude)}&localityLanguage=en`);
      const data = r.ok ? await r.json() : {};
      const city = data.city || data.locality || data.principalSubdivision || 'your area';
      el.textContent = city;
      localStorage.setItem('sbnm_city_v1', JSON.stringify({display: city}));
    } catch(_) { /* fail silently */ }
  })();

  // 2) Route all .cta → Amazon search w/ correct tag (US vs CA)
  (function routeCTAs(){
    const isCA = (() => {
      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || '';
      const lang = (navigator.language||'').toLowerCase();
      return tz.includes('Toronto') || tz.includes('Vancouver') || lang.endsWith('-ca');
    })();
    const host = isCA ? 'https://www.amazon.ca' : 'https://www.amazon.com';
    const tag  = isCA ? 'cansnowme-20'        : 'snowme-20';
    document.querySelectorAll('.cta[data-amz-q]').forEach(a=>{
      const q = encodeURIComponent(a.getAttribute('data-amz-q') || 'snow blower');
      a.href = `${host}/s?k=${q}&tag=${tag}`;
      a.target = '_blank';
      a.rel = 'sponsored nofollow noopener';
    });
    // Sticky CTA default link
    const sticky = document.getElementById('cta-amz');
    if (sticky) sticky.href = `${host}/s?k=${encodeURIComponent('snow blower')}&tag=${tag}`;
  })();

  // 3) Sticky CTA shows at 60% scroll (once per session)
  (function stickyCTA(){
    if (sessionStorage.getItem('sticky_seen')) return;
    const el = document.getElementById('sticky'); if (!el) return;
    let shown = false;
    window.addEventListener('scroll', ()=>{
      const p = (scrollY + innerHeight) / document.documentElement.scrollHeight;
      if (!shown && p >= 0.6) { shown = true; el.hidden = false; sessionStorage.setItem('sticky_seen','1'); }
    }, {passive:true});
  })();

  // 4) Storm ribbon toggle via ?storm=1
  (function stormToggle(){
    if (location.search.includes('storm=1')) {
      const s = document.getElementById('storm'); if (s) s.hidden = false;
    }
  })();
  </script>
</body>
</html>
